$ = require('jquery');
terminal = require('app/terminal/model');
WorkQueue = require('app/utils/work_queue');

function Controller(){
  
  $(document).on('click', 'a', hijack);

}

var hijack = function(event) {
  event.preventDefault();
  var chars, string, queue;

  queue = new WorkQueue(100);
  chars = event.target.dataset.input.split('');
  string = "";

  chars.forEach(function(char){
    string = [string, char].join("");
    queue.enqueue(terminal.setInput.bind(terminal, string));
  });

  queue.enqueue(terminal.run.bind(terminal));
};


module.exports = Controller;
