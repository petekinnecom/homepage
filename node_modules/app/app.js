'use strict';

// TODO: clean this up... :(

var Router = require('app/router/pushstate/router');
var PagesController = require('app/pages/controller');
var LinkHijacker = require('app/link_hijacker/controller');
var TerminalController = require('app/terminal/controller');

var Adventure = require('app/adventure/commander');
var Snark = require('app/snark/commander');
var TerminalCommander = require('app/terminal/commander');
var PagesCommander = require('app/pages/commands/navigation');
var PagesLs = require('app/pages/commands/ls');
var HelpCommand = require('app/help/commander');
var LinkCommand = require('app/link_hijacker/commander');

var NavCommand = require('app/navigation/model');
var ExternalLinker = require('app/external_linker/commander');

var terminalClass = '.terminal';
var pageClass = '.main-screen-turn-on';

var tracker = require('app/analytics/tracker');

$(function(){

  var pagesController = new PagesController($(pageClass));
  var router = new Router({
    pages: pagesController,
    root: {id: 'articles/about', controller: 'pages'}
  });

  tracker.event({
    'hitType': 'event',
    'eventCategory': '1newTestCategory',
    'eventAction': 'testAction',
  });

  new LinkHijacker();
  new PagesCommander(router);
  new PagesLs();

  var $terminal = $(terminalClass);
  new TerminalController($terminal);

  new HelpCommand();
  new NavCommand();
  new LinkCommand();
  new ExternalLinker();

  console.log("Why hello there. How is it going? Good? Glad to hear it. Me? Yeah, I'm doing pretty well, thanks.  Well, see you later.");
});
