var PageLoader = require('app/articles/cache_machine/page_loader');
var Downloader = require('app/articles/cache_machine/downloader');
var articles = require('app/articles/cache_machine/article_list');

var downloaders = {};

articles.forEach(function(a){
  var pageLoader = new PageLoader(a);

  if (pageLoader.isOnPage()) {
    console.log('article ' + a + ' is on the page');
    downloaders[a] = pageLoader;
  }
  else {
    downloaders[a] = new Downloader(a);
  }
});

module.exports = downloaders;
