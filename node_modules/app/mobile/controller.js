"use strict";

var MobileDetector = require('app/utils/mobile/detector');
var Model = require('app/mobile/model');
var View = require('app/mobile/view');

function Controller($el){
  var detectedMobile = MobileDetector.detect();
  var model = new Model(detectedMobile);
  var view = new View($el, model);

  model.events.on('stateChanged', view.update.bind(view));

  this.model = model;
  this.isMobile = model.isMobile.bind(model);
}

module.exports = Controller;
