'use strict';

var terminal = require('app/terminal/model');
var pagesData = require('app/pages/cache_machine/pages_data');

function Navigation(router){
  var routeToPage = function(match) {
    var id = match[1];

    terminal.log('Loaded page ' + id);

    router.push({
      controller: 'pages',
      id: id
    });

    window.setTimeout(terminal.close.bind(terminal), 1000);
  };

  terminal.registerCommand({
    matcher: /^page (.*)/,
    fn: routeToPage,
  });
}

module.exports = Navigation;
