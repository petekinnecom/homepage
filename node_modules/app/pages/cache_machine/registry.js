var HiddenDivLoader = require('app/pages/cache_machine/hidden_div_loader');
var Downloader = require('app/pages/cache_machine/downloader');
var pages = require('app/pages/cache_machine/pages_data');

var downloaders = {};

pages.forEach(function(page){
  var divLoader = new HiddenDivLoader(page);

  if (divLoader.canLoad()) {
    downloaders[page.name] = divLoader;
  }
  else {
    downloaders[page.name] = new Downloader(page);
  }
});

module.exports = downloaders;
