var PageLoader = require('app/pages/cache_machine/page_loader');
var Downloader = require('app/pages/cache_machine/downloader');
var pages = require('app/pages/cache_machine/pages_list');

var downloaders = {};

pages.forEach(function(page){
  var pageLoader = new PageLoader(page);

  if (pageLoader.isOnPage()) {
    downloaders[page.name] = pageLoader;
  }
  else {
    downloaders[page.name] = new Downloader(page);
  }
});

module.exports = downloaders;
