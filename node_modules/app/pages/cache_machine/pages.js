"use strict";
var pagesData = require('app/pages/cache_machine/pages_data');

var singularize;

function Page(data){
  this.name = data.name;
  this.path = data.path;
  this.folder = data.folder;
  this.command = singularize(data.folder);
  this.id = data.folder + '/' + data.name; 
}

singularize = function(word){
  if (word[word.length - 1] === "s"){
    return word.substring(0, word.length - 1);
  }

  return word;
};

var pages = pagesData.map(function(pageData){
  return new Page(pageData);
});

module.exports = pages;
