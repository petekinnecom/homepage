var terminal = require('app/terminal/model');
var $ = require('jquery');

var ENTER_KEY = 13;

function View($el, $hidden){

  $el.on('focus', function(event){
    event.preventDefault();
    $hidden.focus();
  });

  $hidden.on('keyup', function(event){
    $el.text(event.target.innerText);

    if (event.keyCode === ENTER_KEY) {
      event.preventDefault();
      terminal.input($hidden.text());
      $el.text('');
      $hidden.text('');
      $hidden.focus();
    }
  });
}

module.exports = View;
