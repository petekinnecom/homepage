'use strict';

var $ = require('jquery');
function View($el, prompt){
  this.$el = $el;

  prompt.events.on('changed', render.bind(this));
  render.call(this, {
    pre: '',
    under: '',
    post: '',
  });
}

//private, must be bound

var render = function(state){
  var $pre, $under, $post;

  $pre = $('<span></span>');
  $pre.text(state.pre);

  $under = $('<span class="caret"></span>');
  if (state.under){
    $under.text(state.under);
  }
  else {
    $under.html('&nbsp;');
  }

  $post = $('<span></span>');
  $post.text(state.post);

  this.$el.html([$pre, $under, $post]);
};

module.exports = View;
