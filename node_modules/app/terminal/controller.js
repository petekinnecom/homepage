var Prompt = require('app/terminal/input/prompt/model');
var terminal = require('app/terminal/model');

var View = require('app/terminal/view');
var InputController = require('app/terminal/input/controller');

var $ = require('jquery');

function Controller($el){
  new InputController($el, terminal.input);

  new View($('body'));

  $('body').on('click', function(event){
    if (inTerminalView(event.target)){
      terminal.open();
    }
    else {
      terminal.close();
    }
  });
}

var inTerminalView = function(el){
 return $.contains( $('.terminal')[0], el) ||  ( $('.terminal')[0] == el );
};

module.exports = Controller;
