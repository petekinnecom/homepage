var CommandRegistry = require('app/terminal/commands/registry');

function Processor(name){
  this.name = name;
  this.commandRegistry = new CommandRegistry();

  this.process = process.bind(this);

  //delegate
  this.register = this.commandRegistry.register.bind(this.commandRegistry);
}

var process = function(input, close){
  var handler, newProcess;

  handler = this.commandRegistry.findHandler(input);

  return handler.run(input, close);
};

module.exports = Processor;
