"use strict";

var terminal = require('app/terminal/model');

// args:
//   enable: enable the terminal
//   disable: disable the terminal

function TerminalToggler(clickHandler){

  var enable = function(){
    clickHandler.enable();
    terminal.open();
    terminal.log('you have enabled the terminal');
    terminal.log('click here to disable it', {data: {input: 'terminal disable'}});
  };

  terminal.registerCommand({
    matcher: /^terminal\s*enable/,
    fn: enable,
  });

  var disable = function(){
    clickHandler.disable();
    terminal.log('you have disabled the terminal')
      .then(terminal.close.bind(terminal));
  };

  terminal.registerCommand({
    matcher: /^terminal\s*disable/,
    fn: disable,
  });
}

module.exports = TerminalToggler;
