
function Command(options){
  this.regex = options.regex;
  this.fn = options.fn;
  this.response = options.response;
}

Command.prototype.isHandler = function(input){
  return input.match(this.regex);
};

Command.prototype.run = function(input) {
  var match, response;
  match = input.match(this.regex);

  this.fn(match);

  if (typeof this.response === "function") {
    response = this.response(match);
  }
  else {
    response = this.response;
  }

  return response;
};

module.exports = Command;
